# Training config for TCN-Transformer models (Pattern 1)
# v2: stronger regularization to combat overfitting (val MAE was stuck at 27+)
model_version: "v2"  # v1=original (overfit), v2=regularized + reduced capacity + augmentation
batch_size: 8
epochs: 100
seed: 9

optimizer:
  name: adamw
  learning_rate: 0.0005
  weight_decay: 0.005  # 50Ã— increase: heavy L2 reg for small dataset

loss:
  name: huber
  delta: 10.0

callbacks:
  checkpoint_dir: outputs/models/checkpoints
  save_best_only: true
  monitor: val_loss
  mode: min
  lr_reduce_factor: 0.5
  lr_reduce_patience: 10
  lr_min: 0.000001
  early_stop_patience: 20
  restore_best_weights: true
  mlflow_tracking: true
  mlflow_tracking_uri: mlruns
  mlflow_experiment_name: bearing_rul_prediction

model:
  name: tcn_transformer
  input_type: raw_signal

vertex:
  enabled: true          # Set to true when running on GCP
  experiment_name: bearing-rul-prediction
  project_id: xjtu-bearing-failure
  location: asia-southeast1
