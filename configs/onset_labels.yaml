# ONSET-8: Curated Onset Labels (Reference)
#
# Algorithmically derived onset indices for all 15 XJTU-SY bearings,
# with per-bearing indicator selection, quantitative confidence scoring,
# and documented rationale. No expert/human annotation was performed;
# labels were produced by running statistical detectors (threshold, CUSUM)
# on kurtosis and RMS health indicators, then curating the best result
# per bearing based on SNR, sustained post-onset %, and σ exceedance.
#
# Used as the reference ground truth for training and evaluating
# two-stage RUL prediction models.
#
# Labeling Methodology:
# 1. Primary indicator: kurtosis (sensitive to impulsive defects)
# 2. Secondary indicator: RMS (sensitive to gradual wear)
# 3. Onset criterion: First sustained increase (>2σ above baseline for >5 consecutive samples)
#    OR first RMS increase that doesn't return to baseline
# 4. Baseline: First 20% of bearing life (healthy period)
# 5. Upgrade criteria: SNR > 100 AND 100% post-onset above threshold = high confidence
#
# Confidence levels:
#   high: Clear onset point with high SNR (>100), 100% sustained post-onset, or strong exceedance (>5σ)
#   medium: Onset point visible but with moderate exceedance (2-5σ) or noisy baseline
#   low: Ambiguous onset, multiple possible interpretations, or large onset range
#
# Fields:
#   bearing_id: Unique identifier (e.g., Bearing1_1)
#   condition: Operating condition (35Hz12kN, 37.5Hz11kN, 40Hz10kN)
#   onset_file_idx: File index where degradation begins (0-indexed)
#   confidence: Labeling confidence (high/medium/low)
#   detection_method: Which health indicator was used (kurtosis/rms/composite)
#   failure_mode: Documented failure mode from Wang et al. 2020 (e.g., 'Outer race', 'Cage')
#   onset_range: [min_idx, max_idx] for ambiguous cases (optional)
#   notes: Additional observations
#
# Total: 15 bearings
# High confidence: 13 bearings
# Medium confidence: 2 bearings
# Low confidence: 0 bearings

bearings:
  # ============================================================
  # Condition 1: 35Hz / 12kN (5 bearings)
  # ============================================================

  - bearing_id: Bearing1_1
    condition: 35Hz12kN
    onset_file_idx: 65
    confidence: high
    detection_method: composite
    failure_mode: Outer race
    notes: >
      Onset at file 65 based on visual inspection of v_kurtosis transition zone
      (steps from 0.25-0.33 baseline to 0.38-0.70 over files 65-69) combined with
      sustained h_rms increase. Original algorithmic detection at 69 (RMS 2σ) was
      4 files late — the transition begins at 65.

  - bearing_id: Bearing1_2
    condition: 35Hz12kN
    onset_file_idx: 31
    confidence: high
    detection_method: rms
    failure_mode: Outer race
    notes: >
      Dramatic v_rms step-change at file 31 (0.590 → 0.827, +40%), never returns
      to baseline. Original kurtosis-based detection at 43 missed this by 12 files.
      File 31 is the first degraded file; file 30 is the last healthy file.

  - bearing_id: Bearing1_3
    condition: 35Hz12kN
    onset_file_idx: 58
    confidence: high
    detection_method: rms
    failure_mode: Outer race
    notes: >
      Very stable baseline (h_rms ~0.51, v_rms ~0.52). RMS jump at file 58
      (v_rms 0.523 → 0.614, +17%). Kurtosis detector caught it one file late
      at 59. File 58 is the first degraded file.

  - bearing_id: Bearing1_4
    condition: 35Hz12kN
    onset_file_idx: 79
    confidence: high
    detection_method: kurtosis
    failure_mode: Cage
    notes: >
      Stable baseline (0.02±0.03), then dramatic kurtosis increase to 141.44
      at failure. Clear onset at file 79. High confidence.

  - bearing_id: Bearing1_5
    condition: 35Hz12kN
    onset_file_idx: 34
    confidence: high
    detection_method: rms
    failure_mode: Outer race + Inner race
    notes: >
      Short life (52 files). Original algorithmic onset at 27 was a false positive —
      file 27 (h_rms=0.996) is indistinguishable from neighbors. First real deviation
      at file 34 (h_rms=1.234, v_rms=1.189), followed by unmistakable jump at 35
      (h_rms=1.535, v_rms=1.866). Progressive wear failure, no kurtosis onset.

  # ============================================================
  # Condition 2: 37.5Hz / 11kN (5 bearings)
  # ============================================================

  - bearing_id: Bearing2_1
    condition: 37.5Hz11kN
    onset_file_idx: 452
    confidence: high
    detection_method: kurtosis
    failure_mode: Inner race
    notes: >
      Very long healthy life (452/491 files healthy = 92%). Stable baseline
      (0.02±0.04), clear kurtosis spike at 452. High confidence - classic
      sudden onset near end of life.

  - bearing_id: Bearing2_2
    condition: 37.5Hz11kN
    onset_file_idx: 46
    confidence: high
    detection_method: rms
    failure_mode: Outer race
    notes: >
      RMS jump at file 46 (h_rms 0.490 → 0.640, +31%; v_rms 0.452 → 0.565, +25%).
      Kurtosis detector caught it one file late at 47. File 46 is the first
      degraded file. Sustained degradation through failure.

  - bearing_id: Bearing2_3
    condition: 37.5Hz11kN
    onset_file_idx: 122
    confidence: high
    detection_method: kurtosis
    failure_mode: Cage
    notes: >
      Long life (533 files). Stable baseline (0.02±0.03), sustained kurtosis
      increase starting at file 122. Clear degradation pattern. High confidence.

  - bearing_id: Bearing2_4
    condition: 37.5Hz11kN
    onset_file_idx: 30
    confidence: high
    detection_method: rms
    failure_mode: Outer race
    notes: >
      Short life (42 files). Original onset at 9 was a false positive — files 0-29
      are noisy but stable baseline (h_rms 0.51-0.65, kurtosis 0.2-1.8). Catastrophic
      onset at file 30 (h_rms 0.633 → 1.958, 3x jump; v_rms 0.806 → 1.609, 2x jump).
      Kurtosis unreliable for this bearing (noisy baseline, decreases during failure).

  - bearing_id: Bearing2_5
    condition: 37.5Hz11kN
    onset_file_idx: 121
    confidence: high
    detection_method: rms
    failure_mode: Outer race
    notes: >
      Long life (339 files). Kurtosis never exceeds baseline threshold and
      actually DECREASES toward failure (-0.51). RMS shows clear onset at
      file 121 with SNR=132.3 and 100% post-onset sustained above threshold.
      Progressive wear failure mode, not impulsive. Upgraded from medium.

  # ============================================================
  # Condition 3: 40Hz / 10kN (5 bearings)
  # ============================================================

  - bearing_id: Bearing3_1
    condition: 40Hz10kN
    onset_file_idx: 748
    confidence: high
    detection_method: composite
    failure_mode: Outer race
    onset_range: [748, 870]
    notes: >
      Very long life (2538 files). Stable baseline (0.03±0.03). Kurtosis-based
      detection at 870, but composite HI shows earlier change at 748.
      Multiple degradation stages visible. High confidence on 748.

  - bearing_id: Bearing3_2
    condition: 40Hz10kN
    onset_file_idx: 1020
    confidence: medium
    detection_method: composite
    failure_mode: Outer race + Ball + Cage + Inner race
    onset_range: [1020, 1441]
    notes: >
      Very long life (2496 files). High initial v_kurtosis baseline (~1.7-1.9).
      Around file 1020, structural shift: v_kurtosis drops from 1.87 to ~0.8-1.1
      (permanent), h_rms stabilizes above 1.0. Original onset at 169 was in
      noisy baseline — indistinguishable from normal variation. Kurtosis decreases
      toward failure. Very gradual degradation; medium confidence.

  - bearing_id: Bearing3_3
    condition: 40Hz10kN
    onset_file_idx: 339
    confidence: high
    detection_method: kurtosis
    failure_mode: Inner race
    notes: >
      Clear stable baseline (0.05±0.03), sharp kurtosis increase at file 339.
      Well-defined onset point with sustained degradation. High confidence.

  - bearing_id: Bearing3_4
    condition: 40Hz10kN
    onset_file_idx: 1417
    confidence: medium
    detection_method: rms
    failure_mode: Inner race
    onset_range: [710, 1417]
    notes: >
      Very long life (1515 files). Kurtosis regime change at ~710 (baseline
      shifts permanently), first detectable v_rms drift at ~940. RMS shows
      sustained increase at file 1417 (2.5σ) with 100% post-onset above
      threshold. Earlier RMS change at 1012 (2σ) shows only 10.8% sustained.
      Used conservative 1417 as onset. SNR=320.8. Onset range widened to
      [710, 1417] to capture the earliest kurtosis regime change.

  - bearing_id: Bearing3_5
    condition: 40Hz10kN
    onset_file_idx: 5
    confidence: high
    detection_method: rms
    failure_mode: Outer race
    notes: >
      Short-medium life (114 files). Bearing failed almost immediately. v_rms
      accelerates from file 5 (0.995) and jumps to 1.773 at file 6 (+78%).
      Original onset at 29 was absurdly late — h_rms was already 4.5 by then.
      File 5 marks the start of irreversible acceleration. Progressive wear
      failure mode with very early onset.

# Summary Statistics:
# - Bearings with kurtosis-based onset: 4 (1_4, 2_1, 2_3, 3_3)
# - Bearings with RMS-based onset: 8 (1_2, 1_3, 1_5, 2_2, 2_4, 2_5, 3_4, 3_5)
# - Bearings with composite-based onset: 3 (1_1, 3_1, 3_2)
#
# Key observations:
# 1. Kurtosis works well for sudden/impulsive defect initiation (cage failure, spalling)
# 2. RMS is more reliable for progressive wear patterns (lubrication degradation)
# 3. Some bearings show decreasing kurtosis during failure (Bearing2_4, 2_5, 3_2)
#    indicating smoothing of defect surfaces or distributed damage
# 4. Very long-lived bearings (2500+ files) often show multiple degradation stages
# 5. High SNR (>100) with 100% post-onset sustained = reliable high confidence label
